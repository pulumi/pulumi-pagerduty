// *** WARNING: this file was generated by the Pulumi Terraform Bridge (tfgen) Tool. ***
// *** Do not edit by hand unless you're certain you know what you are doing! ***

package pagerduty

import (
	"context"
	"reflect"

	"github.com/pkg/errors"
	"github.com/pulumi/pulumi/sdk/v2/go/pulumi"
)

// A [maintenance window](https://v2.developer.pagerduty.com/v2/page/api-reference#!/Maintenance_Windows/get_maintenance_windows) is used to temporarily disable one or more services for a set period of time. No incidents will be triggered and no notifications will be received while a service is disabled by a maintenance window.
//
// Maintenance windows are specified to start at a certain time and end after they have begun. Once started, a maintenance window cannot be deleted; it can only be ended immediately to re-enable the service.
//
// ## Example Usage
//
// ```go
// package main
//
// import (
// 	"github.com/pulumi/pulumi-pagerduty/sdk/go/pagerduty"
// 	"github.com/pulumi/pulumi/sdk/v2/go/pulumi"
// )
//
// func main() {
// 	pulumi.Run(func(ctx *pulumi.Context) error {
// 		_, err := pagerduty.NewMaintenanceWindow(ctx, "example", &pagerduty.MaintenanceWindowArgs{
// 			EndTime: pulumi.String("2015-11-09T22:00:00-05:00"),
// 			Services: pulumi.StringArray{
// 				pulumi.Any(pagerduty_service.Example.Id),
// 			},
// 			StartTime: pulumi.String("2015-11-09T20:00:00-05:00"),
// 		})
// 		if err != nil {
// 			return err
// 		}
// 		return nil
// 	})
// }
// ```
//
// ## Import
//
// Maintenance windows can be imported using the `id`, e.g.
//
// ```sh
//  $ pulumi import pagerduty:index/maintenanceWindow:MaintenanceWindow main PLBP09X
// ```
type MaintenanceWindow struct {
	pulumi.CustomResourceState

	// A description for the maintenance window.
	Description pulumi.StringPtrOutput `pulumi:"description"`
	// The maintenance window's end time. This is when the services will start creating incidents again. This date must be in the future and after the `startTime`.
	EndTime pulumi.StringOutput `pulumi:"endTime"`
	// A list of service IDs to include in the maintenance window.
	Services pulumi.StringArrayOutput `pulumi:"services"`
	// The maintenance window's start time. This is when the services will stop creating incidents. If this date is in the past, it will be updated to be the current time.
	StartTime pulumi.StringOutput `pulumi:"startTime"`
}

// NewMaintenanceWindow registers a new resource with the given unique name, arguments, and options.
func NewMaintenanceWindow(ctx *pulumi.Context,
	name string, args *MaintenanceWindowArgs, opts ...pulumi.ResourceOption) (*MaintenanceWindow, error) {
	if args == nil {
		return nil, errors.New("missing one or more required arguments")
	}

	if args.EndTime == nil {
		return nil, errors.New("invalid value for required argument 'EndTime'")
	}
	if args.Services == nil {
		return nil, errors.New("invalid value for required argument 'Services'")
	}
	if args.StartTime == nil {
		return nil, errors.New("invalid value for required argument 'StartTime'")
	}
	var resource MaintenanceWindow
	err := ctx.RegisterResource("pagerduty:index/maintenanceWindow:MaintenanceWindow", name, args, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// GetMaintenanceWindow gets an existing MaintenanceWindow resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetMaintenanceWindow(ctx *pulumi.Context,
	name string, id pulumi.IDInput, state *MaintenanceWindowState, opts ...pulumi.ResourceOption) (*MaintenanceWindow, error) {
	var resource MaintenanceWindow
	err := ctx.ReadResource("pagerduty:index/maintenanceWindow:MaintenanceWindow", name, id, state, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// Input properties used for looking up and filtering MaintenanceWindow resources.
type maintenanceWindowState struct {
	// A description for the maintenance window.
	Description *string `pulumi:"description"`
	// The maintenance window's end time. This is when the services will start creating incidents again. This date must be in the future and after the `startTime`.
	EndTime *string `pulumi:"endTime"`
	// A list of service IDs to include in the maintenance window.
	Services []string `pulumi:"services"`
	// The maintenance window's start time. This is when the services will stop creating incidents. If this date is in the past, it will be updated to be the current time.
	StartTime *string `pulumi:"startTime"`
}

type MaintenanceWindowState struct {
	// A description for the maintenance window.
	Description pulumi.StringPtrInput
	// The maintenance window's end time. This is when the services will start creating incidents again. This date must be in the future and after the `startTime`.
	EndTime pulumi.StringPtrInput
	// A list of service IDs to include in the maintenance window.
	Services pulumi.StringArrayInput
	// The maintenance window's start time. This is when the services will stop creating incidents. If this date is in the past, it will be updated to be the current time.
	StartTime pulumi.StringPtrInput
}

func (MaintenanceWindowState) ElementType() reflect.Type {
	return reflect.TypeOf((*maintenanceWindowState)(nil)).Elem()
}

type maintenanceWindowArgs struct {
	// A description for the maintenance window.
	Description *string `pulumi:"description"`
	// The maintenance window's end time. This is when the services will start creating incidents again. This date must be in the future and after the `startTime`.
	EndTime string `pulumi:"endTime"`
	// A list of service IDs to include in the maintenance window.
	Services []string `pulumi:"services"`
	// The maintenance window's start time. This is when the services will stop creating incidents. If this date is in the past, it will be updated to be the current time.
	StartTime string `pulumi:"startTime"`
}

// The set of arguments for constructing a MaintenanceWindow resource.
type MaintenanceWindowArgs struct {
	// A description for the maintenance window.
	Description pulumi.StringPtrInput
	// The maintenance window's end time. This is when the services will start creating incidents again. This date must be in the future and after the `startTime`.
	EndTime pulumi.StringInput
	// A list of service IDs to include in the maintenance window.
	Services pulumi.StringArrayInput
	// The maintenance window's start time. This is when the services will stop creating incidents. If this date is in the past, it will be updated to be the current time.
	StartTime pulumi.StringInput
}

func (MaintenanceWindowArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*maintenanceWindowArgs)(nil)).Elem()
}

type MaintenanceWindowInput interface {
	pulumi.Input

	ToMaintenanceWindowOutput() MaintenanceWindowOutput
	ToMaintenanceWindowOutputWithContext(ctx context.Context) MaintenanceWindowOutput
}

func (MaintenanceWindow) ElementType() reflect.Type {
	return reflect.TypeOf((*MaintenanceWindow)(nil)).Elem()
}

func (i MaintenanceWindow) ToMaintenanceWindowOutput() MaintenanceWindowOutput {
	return i.ToMaintenanceWindowOutputWithContext(context.Background())
}

func (i MaintenanceWindow) ToMaintenanceWindowOutputWithContext(ctx context.Context) MaintenanceWindowOutput {
	return pulumi.ToOutputWithContext(ctx, i).(MaintenanceWindowOutput)
}

type MaintenanceWindowOutput struct {
	*pulumi.OutputState
}

func (MaintenanceWindowOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*MaintenanceWindowOutput)(nil)).Elem()
}

func (o MaintenanceWindowOutput) ToMaintenanceWindowOutput() MaintenanceWindowOutput {
	return o
}

func (o MaintenanceWindowOutput) ToMaintenanceWindowOutputWithContext(ctx context.Context) MaintenanceWindowOutput {
	return o
}

func init() {
	pulumi.RegisterOutputType(MaintenanceWindowOutput{})
}
